# Changelog

このプロジェクトの変更履歴を記録します。

フォーマットは [Keep a Changelog](https://keepachangelog.com/ja/1.0.0/) に準拠し、
バージョン管理は [Semantic Versioning](https://semver.org/lang/ja/) に従います。

## [1.3.1] - 2025-11-03

### 修正
- 🔒 **プレビューセキュリティ強化** - 不完全なHTMLタグの処理を改善
  - タグを途中で入力中止した際にエディタの内部コードが表示される問題を修正
  - sanitizeHTML関数を実装し、未閉じタグを自動検出・修正
  - ユーザーHTMLを専用コンテナ（#user-content-wrapper）で隔離
  - コンソールキャプチャコードの完全分離を実現
  - 不完全なタグ（`<h`、`<d`など）はHTMLエスケープして文字列として表示
  - ユーザーの入力コードのみを表示し、エディタの内部コードを非表示に

### セキュリティ
- プレビュー機能のコード隔離を強化
- 未閉じの`<script>`、`<style>`、`<title>`、`<textarea>`、`<iframe>`タグの自動クローズ処理を追加

---

## [1.3.0] - 2025-11-03

### 追加
- 📱 **モバイル専用UI** - スマホでの作業スペースを大幅に拡大
  - デスクトップ：従来のヘッダーボタン配置を維持
  - モバイル：コンパクトなヘッダー（タイトル + 実行ボタンのみ）
  - 画面右下のフローティングメニューボタン（⚡）から全機能にアクセス
  - スライドアップメニューで直感的な操作
  - ESCキーでメニューを閉じる機能
  - 画面領域を最大30%増加（従来比）
- 🌐 **OGP（Open Graph Protocol）対応** - SNSシェアの最適化
  - Twitter、Facebook、LINEでのシェア時の表示を最適化
  - .envファイルで簡単に設定変更可能
  - config.php で環境変数を管理
  - ogp.php でメタタグを自動生成
  - カスタムOGP画像の設定に対応
  - Twitter Card（summary_large_image）対応
- 📋 **設定ファイル管理**
  - .env.example - 環境変数のサンプル
  - .gitignore - .envファイルを除外

### 変更
- モバイル表示時のヘッダー高さを最小化（70px → 55px）
- コンテナの高さを自動調整してコード・プレビュー領域を最大化
- FABボタンに視覚的なパルスアニメーション追加
- index.phpでogp.phpをrequire_onceで読み込むように変更

### 改善
- モバイルでの操作性向上（親指での操作に最適化）
- タップしやすい大きめのメニュー項目
- スムーズなアニメーション効果
- Emmetチートシートへのリンク追加
- リンクのスタイル改善（ライトモード・ダークモード対応）
- z-indexの階層整理でUI要素の重なり問題を解決

---

## [1.2.0] - 2025-11-02

### 追加
- 🔍 **検索・置換機能** - エディタ内で高度な検索と置換が可能に
  - `Ctrl/Cmd + F` で検索ダイアログ表示
  - `Ctrl/Cmd + H` で置換ダイアログ表示
  - 正規表現検索に対応
  - CodeMirror search/dialog addon使用
- 📱 **レスポンシブプレビューモード** - デバイス別にプレビュー表示
  - デスクトップ（100%）
  - タブレット（768px）
  - モバイル（375px）
  - プレビューヘッダーにビューポート切り替えボタンを配置
- 💬 **コメントアウトショートカット** - 素早くコメントを追加/削除
  - `Ctrl/Cmd + /` で選択行をコメントアウト
  - HTML、CSS、JavaScriptすべてに対応
  - CodeMirror comment addonを使用
- 📚 **外部ライブラリ追加機能** - よく使うライブラリを簡単に読み込み
  - jQuery 3.7.1
  - Bootstrap CSS/JS 5.3
  - Tailwind CSS 3.4
  - Vue.js 3.4
  - Axios 1.6
  - GSAP 3.12
  - Font Awesome 6.5
  - 設定画面からチェックボックスで簡単に有効/無効化
- 🔄 **レイアウト切り替え機能** - エディタとプレビューの配置を変更
  - 横分割レイアウト（デフォルト）
  - 縦分割レイアウト
  - ヘッダーに「🔄 レイアウト」ボタンを追加
  - 設定は自動保存

### 変更
- プレビューヘッダーにビューポート切り替えボタンを追加
- 設定モーダルに外部ライブラリセクションを追加
- エクスポート機能で有効化された外部ライブラリも含めるように改善
- レスポンシブデザインの改善（新機能のモバイル対応）

### 技術スタック更新
- CodeMirror search addon 追加
- CodeMirror searchcursor addon 追加
- CodeMirror dialog addon 追加
- CodeMirror comment addon 追加

---

## [1.1.0] - 2025-11-02

### 追加
- ✨ **Emmet対応** - HTML/CSSエディタでEmmet省略記法が使用可能に
  - `html:5`、`ul>li*3`、`.container`などの省略記法に対応
  - Tabキーで展開
  - emmet-codemirrorライブラリ (v1.2.4) を使用
- 🎨 **コード整形機能 (Prettier)** - ワンクリックでコードを整形
  - HTML、CSS、JavaScriptすべてに対応
  - Prettier 2.8.8を使用 (jsDelivr CDN経由)
  - キーボードショートカット: `Ctrl/Cmd + Shift + F`
  - 現在のタブのコードを自動認識して整形
- 🔗 **SNS共有機能** - ページのシェア機能追加
  - Twitter (X)、Facebook、LINEに対応
- ⚙️ **設定画面の改善** - Emmet機能の説明を追加

### 変更
- ヘッダーに「✨ 整形」ボタンを追加
- ヘッダーに「🔗 共有」ボタンを追加
- 共有モーダルのUI/UXを改善

### 技術スタック更新
- emmet-codemirror v1.2.4 追加
- Prettier v2.8.8 追加 (standalone + parsers)

### ライセンス変更
- GPL-3.0 License を MIT License に変更

---

## [1.0.0] - 2025-10-30

### 追加
- 🎉 初回リリース
- HTML/CSS/JavaScriptの3つのエディタタブ
- CodeMirrorベースのシンタックスハイライト
- リアルタイムプレビュー機能（デバウンス付き自動実行）
- LocalStorageへの自動保存機能
- コンソール出力のキャプチャとエラー表示
- ダークモード切り替え（Monokaiテーマ）
- 6種類のテンプレート
  - 空白
  - 基本HTML
  - Flexboxレイアウト
  - CSS Grid
  - CSSアニメーション
  - インタラクティブ（JavaScript）
- 4種類のエクスポート機能
  - HTMLファイルダウンロード
  - CodePen形式コピー
  - JSFiddle形式コピー
  - ZIPファイルダウンロード（HTML/CSS/JS分離）
- パネルリサイズ機能（エディタ/プレビュー幅調整）
- レスポンシブデザイン（モバイル・タブレット対応）
- キーボードショートカット
  - `Ctrl/Cmd + S` - 保存
  - `Ctrl/Cmd + Enter` - 実行
- トースト通知システム
- Twemojiによる絵文字表示

### セキュリティ
- iframeのサンドボックス機能を実装
- クロスオリジンエラーのフィルタリング

---

## リリースタイプについて

- **Added** - 新機能
- **Changed** - 既存機能の変更
- **Deprecated** - 非推奨となった機能
- **Removed** - 削除された機能
- **Fixed** - バグ修正
- **Security** - セキュリティ関連の修正